# FAQ & 故障排除

作为第一步，我们建议仔细阅读我们的文档。大部分设置BLIKVM所需的步骤已经在文档中描述了。如果您遇到任何问题，您可以查看本页，其中列出了常见错误。如果仍然无法解决问题，欢迎提交[问题反馈](https://github.com/blikvm/blikvm/issues)或[加入我们的Discord](https://discord.gg/9Y374gUF6C)寻求进一步帮助。

## 常见问题

??? question "我可以将多台服务器连接到单个BLIKVM吗？"
    可以，但需要进行额外的设置工作。请参考[此页面](bliswitch-v2-guide.md)。

??? question "如何在本地网络上通过互联网访问BliKVM？"
    如果您的路由器具有外部IP地址，您可以使用端口转发443。在其他情况下，您可以使用出色的免费VPN服务Tailscale。

??? question "BLiKVM有多款硬件，如BliKVM V1 CM4、BliKVM V2 PCIe、BliKVM V3 Hat，我应该选哪款？"
    * 首先各个版本的主要参数对比请参考[此页面](index.md)。
    * V1和V3属于外置方案，V2属于内置机箱方案。如果您是机箱形式，并且机箱内部有空间，那么毫无疑问选择V2 PCIe版本是较好的选择。
    * 那么V1和V3两个外置方案如何选择呢，V1基于CM4的方案，集成度更高，有到手可用版本。V3基于树莓派4B方案，所有IO口均引出，可扩展性更强。两者的另一个核心区别就是V1最高支持1080P60Hz输入，V3最高支持1080P50Hz输入。当然同时需要考虑您是已否有CM4或者4B，如果有的话只买对应的底板，性价比更高。

??? question "我可以用BLIKVM进行游戏吗？"
    不可以，原因如下：

    * 对于HDMI-CSI桥接器，总线带宽不足以传输超过1080p60的视频。
    * 对于HDMI-USB转换器，延迟较高且视频质量较低。
    * 一般的硬件视频捕获与软件流媒体有所不同，会引入额外的延迟。

??? question "BLIKVM支持4K视频吗？"
    * 对于HDMI-CSI桥接器，不支持。CSI总线的带宽不足以处理如此大量的数据。1080p60是带宽的上限。
    * 对于USB捕获设备：从技术上讲，是可以的，但它们会降低分辨率以适应USB 2.0的带宽限制，因此流媒体的分辨率不会是4K。
    * 无论如何，4K实时视频也无法通过网络传输。

??? question "光标/视频延迟是由什么引起的？"
    图像传输到浏览器或VNC客户端的过程如下：

    `捕获设备 -> 压缩 -> 网络 -> 解压缩 -> 渲染`

    在此过程中，100-200ms的延迟已经非常快速了。但我们正在努力进一步提高速度。

??? question "BLIKVM支持音频吗？"
    BliKVM v1 CM4, v2 PCIe, v3 HAT版本支持， v4 Allwinner版本不支持。

??? question "我可以通过PoE给Pi供电吗？"
    可以！Hat版本和PCIe版本都支持PoE。

## 第一步

??? question "默认密码是什么？如何更改密码？"
    如果您使用PiKVM，有两种类型的帐户：操作系统帐户和PiKVM（Web界面）帐户。系统帐户`root`可用于SSH/UART访问，密码为`root`。Web界面帐户称为`admin`，密码为`admin`。PiKVM帐户不能用于SSH访问，反之亦然。

    要更改密码，请使用以下命令（在root用户下）：

    ```bash
    su -  # 如果您在Webterm中
    rw  # 切换文件系统为读写模式
    passwd root  # 更改操作系统root密码
    kvmd-htpasswd set admin  # 更改Web界面管理员密码
    ro  # 切换回只读模式
    ```
    如果您使用的是BliKVM，Web界面帐户称为`admin`，密码为`admin`,终端用户名称为`blikvm`，密码为`blikvm`。

??? question "如何添加另一个用户？"
    如果您使用PiKVM软件，如上所述，您需要创建2个帐户，一个用于Shell，另一个用于PiKVM Web界面。

    ```
    如果您需要为PiKVM Web界面添加其他用户，可以使用以下命令：
    # rw
    # su -
    # kvmd-htpasswd set <user>  # 添加新用户
    # kvmd-htpasswd set <user>  # 设置密码（只要用户存在）
    # kvmd-htpasswd del <user>  # 删除用户

    要添加Shell/终端帐户：
    # rw
    # su -
    # adduser <user>
    # passwd <user>
    ```
    请注意，添加的用户越多，访问流媒体时帧率会降低。

## 视频问题

??? question "BLIKVM根本没有显示来自计算机的视频"
    * 请仔细检查视频捕获设备的连接情况。对于CSI桥接器，应连接到相机端口。
    * 有些笔记本电脑在您切换输出之前（通常通过键盘上的FN +和F5键）不会输出任何信号。
    * 您的计算机可能已经将显示器设置为睡眠模式。移动鼠标以关闭睡眠模式。
    * 对于Windows系统，您可能需要检查活动信号分辨率。要更改活动信号分辨率，请转到“设置”>“系统”>“显示”>“高级显示设置”>“显示适配器属性”，然后点击“列出所有模式”，选择所需的模式。尝试不同的刷新率设置。

??? question "在已启动的操作系统中可以看到视频，但在BIOS/UEFI中看不到"
    当使用CSI桥接器时，Intel NUC、GA-H77-DS3H和一些其他设备上会出现此问题。您只需要更改EDID数据，这是CSI桥接器向计算机报告的支持的分辨率信息。

??? question "BIOS/UEFI分辨率出现故障或错误"
    在某些主板上，BIOS可能以较低的分辨率显示，或出现一些渲染问题/故障，特别是在较新的ASUS主板上。如下图所示：
    ![图像标题](assets/images/faq/bios_glitch.png){width="400"}

    您可以通过在BIOS中启用**兼容性支持模块（CSM）**来解决此问题，通常位于**引导**选项下。

    如果您无法或不想启用CSM，您可以尝试连接一个DisplayPort（DP）显示器或[虚拟插头](http://amazon.com/s?k=displayport+dummy+plug)。如果拔掉DP电缆/转接器，问题将重新出现。

    如果上述方法都不起作用，请尝试先连接DP电缆，然后启动到BIOS，禁用CSM并关机（不要重新启动）您的计算机。然后，在再次启动到BIOS并启用CSM之前，连接HDMI并再次打开计算机。

??? question "GRUB2中没有视频，但之前和之后都有"
    有时这可能是由于BIOS/UEFI的特定问题以及GRUB2与视频的工作方式所导致的。

    您可以通过在BIOS中启用**兼容性支持模块（CSM）**来解决此问题，通常位于**引导**选项下。视频模式也位于同一部分。将**视频**模式从**UEFI**切换为**Legacy**。

??? question "Linux + Awesome WM没有计算机图像"
    有时，在Linux上使用Awesome WM可能无法识别电缆的视频输出更改。也就是说，如果电缆先插入显示器，然后再连接到BLIKVM，可能会导致您看不到图像。这似乎是Awesome WM的问题，因为例如在KDE中，这种情况无法复现。如果您在连接BLIKVM后启动工作站，一切都将正常工作。

## USB问题（键盘、鼠标、U盘等）

??? question "USB OTG端口的速度是多少？"
    根据官方的RPI文档，这是SoC的限制。OTG端口只支持USB 2.0，因此速度限制为455 Mbit/s。

??? question "为什么无法捕获某些实体键盘的键盘快捷键，但可以捕获虚拟键盘的键盘快捷键？例如，无法捕获Mac电脑的F11按键"
    这是因为一些快捷键已经被操作系统使用了，例如在 macOS 中，F11 被默认分配给了“显示桌面”的功能。当您在Web界面按下F11时，键盘事件首先被操作系统捕获，如果操作系统注册了回调函数，键盘事件将不会传递给应用程序。要解决此问题，您可以关闭操作系统设置中的快捷键，或者使用虚拟键盘。

## 硬件问题（Wi-Fi、ATX等）

??? question "如果使用PiKVM软件，Web界面显示**FAN**错误！"
    * 由于BLIKVM硬件使用的风扇型号与PIKVM硬件不同，因此在pikvm的最新系统中，通过Web界面查看风扇状态可能会失败。但这不会影响BLIKVM风扇的正常运行。因此，在使用PIKVM镜像时，只要确保[安装脚本](https://github.com/blikvm/blikvm/tree/master/package/kvmd-fan)显示OK，就表示kvmd风扇程序的更新成功。默认程序设置的温度阈值为摄氏60度。当检测到CPU温度超过60摄氏度时，风扇将以85%的速度开始旋转。如果要修改温度阈值和速度，可以修改kvmd-fan.py脚本，然后重新执行install.sh。

??? question "我根本无法连接到Wi-Fi！"
    * 如果您的设备无法连接到您设置的Wi-Fi网络，请检查您的Wi-Fi接入点使用的2.4GHz Wi-Fi信道。如果使用了12到14信道（某些国家禁止使用这些信道），请尝试使用1到11之间的信道。

??? question "BLIKVM显示低电压警告"
    * 您是否使用了“正确”的电源适配器？而不是自己拼凑的适配器？
    * 一些USB电源适配器宣传为5V 2.1A或更高，但无法提供稳定的5V电压。最好使用树莓派基金会推荐的电源适配器。其输出应为5.1V和3A直流电压。

??? question "当我使用PoE时，是否仍然需要使用电源OTG分线器来防止机器USB的反向供电？"
    * 只有HAT版本需要使用电源OTG分线器来防止反向供电。通常，大多数主机计算机都有反向供电保护，因此在这种情况下不需要使用电源OTG分线器。
    * BLIKVM-CM4-V2.2和BLIKVM-PCIe版本不需要。

??? question "在一些像BLIKVM-PCIe或BLIKVM-CM4-V2.2这样的板子上有引导引脚，如何连接？"
    如果将它们连接短路，CM4将无法正常启动，而将进入烧录映像模式。如果您的硬件版本的引导引脚只有两个引脚，使用跳线帽将这两个引脚连接起来，形成短路。如果您不使用跳线帽或只将其插入一个引脚，CM4将正常启动。如果您使用的是三个引导引脚的硬件版本，请使用跳线帽将GND和另一个非GND引脚连接起来以示短路，并将跳线帽插在两个GND引脚上或不使用跳线帽，CM4将正常启动。

## Web问题

??? question "BliKVM OS占用的端口有哪些，在用公网服务器转发时，应该怎么做？"
    * Web界面为http协议，占用的是80端口；
    * 如果您的硬件是V1 V2 V3，使用的是是web-rtc传输，端口是8188；
    * 如果您的硬件是V4，使用的是mjepg传输，端口是8008；
    * 注意端口不支持被修改，只能配置转发；

## 树莓派相关问题
??? question "我是否可以同时使用带eMMC版本的CM4和SD卡?"
    不可以，因为在CM4硬件设计上，几个SD卡的引脚只在lite版本中是可用的，你可以在树莓派官网找到说明。
